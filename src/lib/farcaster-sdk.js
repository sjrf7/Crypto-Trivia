var FarcasterSDK=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){var r=n(3),o=Object.create(null),i=[];function a(e,t){for(var n,i=0;i<e.length;i++)if(e[i].test(t)){var a=e[i];return n?r(a,n):n=a,a.exec(t)}}e.exports=function(e){var t=o[e];if(!t){var n;t=o[e]=[],(n=e.split(".")).pop();for(;n.length>0;)t=t.concat(i[n.join(".")]),n.pop()}return a.bind(null,t)}},function(e,t){e.exports=function(e){var t="string"==typeof e?e.split("."):e,n=t.pop();return{get:function(e){return e[n]},set:function(e,r){return t.length>0?function e(t,n,r){var o=n.shift();if(n.length>0)return e(t[o],n,r);t[o]=r}(e,t.slice(0)):e[n]=r,e}}}},function(e,t,n){var r,o;r=window,o=function(){var e,t,n,o,i,a,s,u=function(){var e={};return function(t){if(void 0===e[t]){var n=document.createElement("a");n.href=t;var r=n.href;e[t]=r}return e[t]}},c=function(){var e={};return function(t,n){if(void 0===n&&(n=!0),void 0!==e[t])return e[t];var r=new XMLHttpRequest;r.open("GET",t,!1),r.send(null);var o=200===r.status;return n&&o&&(e[t]=r.responseText),o}},l={},d=["https://(?:www\\.)?farcaster\\.xyz/","https://(?:www\\.)?warpcast\\.com/","https://client\\.degen\\.tips/","https://app\\.degentip\\.com/","https://www.onchainkit.com/","https://sealcaster\\.xyz/","https://herocast\\.xyz/","https://app\\.kiwi/","https://app\\.supercast\\.xyz/","https://www\\.discove\\.xyz/","https://app\\.paren.com/","https://app\\.u3\\.xyz/","https://social\\.kmon\\.io/","https://flock\\.to/","https://caster\\.every-day\\.app/","https://www\\.pinata\\.cloud/","https://xmtp\\.chat/","https://www\\.converse\\.xyz/","https://firefly\\.land/","https://alpha\\.ens\\.vision/","https://app\\.ethfollow\\.xyz/","https://spect\\.so/","https://frens\\.party/","https://chainend\\.io/","https://www\\.taps\\.xyz/","https://launchcaster\\.xyz/","https://perl\\.xyz/","https://linktr\\.ee/","https://link\\.hotequity\\.com/","https://magic-eden-bot\\.vercel\\.app/","https://farcaster\\.dev/","http://localhost:[0-9]+/"];return l.sdk=function(){var e,n=new(t=u,function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t].push(n)},this.off=function(t,n){if(e[t])for(var r=0;r<e[t].length;r++)if(e[t][r]===n)return void e[t].splice(r,1)},this.trigger=function(n,r){if(e[n])for(var o=0;o<e[t(n)].length;o++)e[n][o](r)}});function r(t){var n,r,o,i,s;if("string"==typeof t.data)try{var u,c,l=JSON.parse(t.data);if(l.event&&a(t.origin))switch(l.event){case"is_signed_in":e.trigger("is_signed_in",l.data);break;case"signer_token":e.trigger("signer_token",l.data)}}catch(e){}}this.init=function(e,t){var o,i;i=(o=t||{}).farcasterClient,a=new RegExp("^"+(i?o.farcasterClient:"(?:farcaster\\.xyz|warpcast\\.com)")+"$"),window.addEventListener("message",r,false)},this.getFarcasterUser=function(){var t,n,r,o,i;return this.getFarcasterUserAsync().then(function(e){return e})},this.getFarcasterUserAsync=function(){return new Promise(function(t,n){e.on("farcaster_user",function(e){t(e)}),window.parent.postMessage({event:"get_farcaster_user"},"*")})},this.getFeed=function(t){var n,r,o,i,a;return this.getFeedAsync(t).then(function(e){return e})},this.getFeedAsync=function(t){var n,r=null==t?void 0:t.cursor;return e.on("feed",function(e){null!=(n=t.handler)&&void 0!==n&&n(e,function(){})}),window.parent.postMessage({event:"get_feed",data:{cursor:r}},"*"),this},this.getCast=function(t){return this.getCastAsync(t).then(function(e){return e})},this.getCastAsync=function(t){var n,r,o,i;return new Promise(function(n,i){e.on("cast",function(e){e.hash===t&&n(e)})})},this.getProfile=function(t){return this.getProfileAsync(t).then(function(e){return e})},this.getProfileAsync=function(t){var n,r,o;return e.on("profile",function(e){(null!=(n=e.user)||void 0===n?void 0:n.username)===t&&r(e)}),window.parent.postMessage({event:"get_profile",data:{username:t}},"*"),new Promise(function(e,t){r=e})},this.onFeedEntryClick=function(t){var n;e.on("feed_entry_click",function(e){n(e)})},this.onCastView=function(t){var n;e.on("cast_view",function(e){n(e)})},this.onProfileView=function(t){var n;e.on("profile_view",function(e){n(e)})},this.onReady=function(t){e.on("ready",t)},this.requestSigner=function(){window.parent.postMessage({event:"request_signer"},"*")},this.hasSigner=function(t){return new Promise(function(n,r){e.on("has_signer",function(e){n(e)}),window.parent.postMessage({event:"has_signer"},"*")})},this.signIn=function(t){return new Promise(function(n,r){e.on("signer_token",function(e){t&&t(e),n(e)}),window.parent.postMessage({event:"request_signer"},"*")})},this.signOut=function(){window.parent.postMessage({event:"sign_out"},"*")},this.isFollowing=function(t){return this.isFollowingAsync(t).then(function(e){return e})},this.isFollowingAsync=function(t){var n,r,o,i;return new Promise(function(r,o){e.on("is_following_response",function(e){e.username===t&&r(e.isFollowing)}),window.parent.postMessage({event:"is_following",data:{username:t}},"*")})},this.follow=function(e){return new Promise(function(t,n){window.parent.postMessage({event:"follow",data:{username:e}},"*"),t()})},this.unfollow=function(e){return new Promise(function(t,n){window.parent.postMessage({event:"unfollow",data:{username:e}},"*"),t()})},this.publishCast=function(t){var n;return e.on("publish_cast_response",function(e){null!=(n=t.handler)&&void 0!==n&&n(e)}),window.parent.postMessage({event:"publish_cast",data:t},"*"),this},this.isApiAvailable=function(t){return(0,o=c,i=new RegExp(d.join("|")),function(e,t){var n=u(e);return!(!n||"GET"!==t)&&i.test(n)&&o(n)})(s,a)},s="https://api.farcaster.xyz/v2/healthcheck",a="GET"},e={actions:{ready:function(){window.parent.postMessage(JSON.stringify({event:"ready"}),"*")},siwf:function(t){var n,r;return new Promise(function(o,i){t.nonce&&function(e,t){window.parent.postMessage({type:"frame:siwf",data:{nonce:e,...t}},"*")}(t.nonce,{domain:t.domain}),window.addEventListener("message",function(e){"string"==typeof e.data&&function(e){try{var t=JSON.parse(e);if("frame:siwf_response"===t.type)return t.data}catch(e){}}(e.data)&&(r(t.data),o(t.data))})})}},quickAuth:{getToken:function(e){return new Promise(function(t){var n=crypto.getRandomValues(new Uint8Array(32)),r=Array.from(n).map(function(e){return e.toString(16).padStart(2,"0")}).join(""),o=e&&e.quickAuthServerOrigin||"https://auth.farcaster.xyz";window.open("".concat(o,"/connect?publicKey=").concat(r,"&miniapp=true"),"Farcaster","width=400,height=600");var i=new AbortController,a=i.signal;fetch("".concat(o,"/token?publicKey=").concat(r),{signal:a}).then(function(e){return e.json()}).then(function(e){t(e)})})}},get _sdk(){return n},set _sdk(e){n=e}},function(e,t,n){e.exports=n(2)},function(e,t){e.exports=function(e,t){var n,r=e.toString(),o=t.toString(),i=Math.max(r.length,o.length);r=l(r,i),o=l(o,i);for(var a=0;a<i;a++)if((n=c(r[a])-c(o[a]))>0)return 1;else if(n<0)return-1;return 0};var n={"+":-1,"-":-1,".":-1},r={"pre-release":-1,build:-1,"":1},o=/^([0-9]+)([a-z]+)?$/i;function i(e){var t=o.exec(e.toLowerCase());return t?[parseInt(t[1]),t[2]||""]:[NaN,NaN]}function a(e,t){return u(e[0],t[0])||s(e[1],t[1])}function s(e,t){return u(r[e]||0,r[t]||0)}function u(e,t){return e>t?1:e<t?-1:0}function c(e){return n[e]||0}function l(e,t){return"00000000000000000000".substr(0,Math.max(0,t-String(e).length))+e}t.compare=function(e,t){for(var n,r=String(e).split("."),s=String(t).split("."),u=Math.max(r.length,s.length),c=0;c<u;c++){var d=r[c]||"0",p=s[c]||"0",f=o.exec(d),h=o.exec(p);if(f&&h){if((n=a(i(f[1]),i(h[1])))>0)return 1;if(n<0)return-1}else if((n=l(d,p))>0)return 1;else if(n<0)return-1}return 0}}}]);
const sdk = FarcasterSDK;
export { sdk };
